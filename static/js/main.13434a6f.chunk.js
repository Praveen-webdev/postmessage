(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(3),i=n.n(c);n(13),n(14);var l=e=>{let{receiverRef:t}=e;const[n,c]=Object(a.useState)(""),[i,l]=Object(a.useState)("*");return r.a.createElement("div",{className:"panel sender-panel"},r.a.createElement("h2",null,"Sender Panel"),r.a.createElement("textarea",{placeholder:"Enter your message here",value:n,onChange:e=>c(e.target.value)}),r.a.createElement("div",{style:{marginBottom:"10px",display:"flex",gap:"5px"}},r.a.createElement("input",{type:"text",value:i,onChange:e=>l(e.target.value),placeholder:"Enter origin",style:{width:"calc(70% - 10px)",padding:"8px",fontSize:"14px",marginRight:"10px"}}),r.a.createElement("button",{onClick:()=>(e=>{t.current?t.current.postMessage(n,e):alert("The receiver has not been created yet.")})(i),style:{width:"28%"},className:"primary-button"},"Send Message")))};var o=()=>{const[e,t]=Object(a.useState)([]),[n,c]=Object(a.useState)(window.location.origin),i=e=>{var a;const{data:r,origin:c}=e;if("object"===typeof r&&(null===(a=r.type)||void 0===a?void 0:a.startsWith("webpack")))return;if("string"===typeof r&&r.startsWith("webpack"))return;const i=c===n;t(e=>[...e,{timestamp:(new Date).toLocaleTimeString(),data:"object"===typeof r?JSON.stringify(r):r,origin:c,passedCheck:i}])};return Object(a.useEffect)(()=>(window.addEventListener("message",i),()=>window.removeEventListener("message",i)),[n]),r.a.createElement("div",{className:"panel receiver-panel"},r.a.createElement("h2",null,"Receiver Panel"),r.a.createElement("label",null,"Origin Check:",r.a.createElement("input",{type:"text",value:n,onChange:e=>c(e.target.value)})),r.a.createElement("p",{style:{fontSize:"12px",color:"gray",marginTop:"4px"}},"Check for the origin and process the data"),r.a.createElement("div",{className:"log-viewer"},e.map((e,t)=>r.a.createElement("div",{key:t,className:`log-entry ${e.passedCheck?"log-accepted":"log-rejected"}`},"[",e.timestamp,"] ",e.origin,": ",e.data," (",e.passedCheck?"Accepted":"Rejected",")"))))};var s=function(){const[e,t]=Object(a.useState)("popup"),[n,c]=Object(a.useState)(""),i=Object(a.useRef)(null);return r.a.createElement("div",{className:"app-container"},r.a.createElement("h2",null,"Controller"),r.a.createElement("div",{className:"receiver-type-selector"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"popup",checked:"popup"===e,onChange:()=>t("popup")}),"Popup"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"iframe",checked:"iframe"===e,onChange:()=>t("iframe")}),"Iframe"),r.a.createElement("input",{type:"text",placeholder:"Enter URL to open",value:n,onChange:e=>c(e.target.value)}),r.a.createElement("button",{className:"secondary-button",onClick:()=>{if("popup"===e)i.current=window.open(n||"","Receiver","width=600,height=400,left=200,top=200"),n||i.current.document.write("\n          <div id=\"root\">Receiver panel</div>\n          <div id=\"log\"></div>\n          <script>\n            window.addEventListener('message', (event) => {\n              const logDiv = document.getElementById('log');\n              const message = document.createElement('div');\n              message.textContent = 'Received: ' + JSON.stringify(event.data);\n              logDiv.appendChild(message);\n            });\n          <\/script>\n        ");else if("iframe"===e){const e=document.getElementById("receiverIframe");n?e.src=n:e.srcdoc="\n          <h3 id=\"root\">Receiver Iframe</h3>\n          <div id=\"log\"></div>\n          <button id=\"sendMessage\">Send Message to Parent</button>\n          <script>\n            // Send a message to the parent window\n            document.getElementById('sendMessage').addEventListener('click', () => {\n              window.parent.postMessage({ type: 'fromIframe', content: 'Hello Parent!' }, '*');\n            });\n\n            // Listen for messages from any source\n            window.addEventListener('message', (event) => {\n              const logDiv = document.getElementById('log');\n              const message = document.createElement('div');\n              message.textContent = 'Received: ' + JSON.stringify(event.data);\n              logDiv.appendChild(message);\n            });\n          <\/script>\n        ",i.current=e.contentWindow}}},"Create Receiver")),r.a.createElement("div",{className:"panels"},r.a.createElement(l,{receiverRef:i}),r.a.createElement(o,null)),"iframe"===e&&r.a.createElement("iframe",{id:"receiverIframe",title:"Receiver",className:"receiver-iframe"}))};var d=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then(t=>{let{getCLS:n,getFID:a,getFCP:r,getLCP:c,getTTFB:i}=t;n(e),a(e),r(e),c(e),i(e)})};i.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s,null))),d()},4:function(e,t,n){e.exports=n(15)}},[[4,1,2]]]);
//# sourceMappingURL=main.13434a6f.chunk.js.map